(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{"8k80":function(l,n,e){"use strict";e.r(n);var t=e("8Y7J");class o{}var u=e("pMnS"),a=e("MKJQ"),i=e("sZkV"),r=e("SVse"),c=e("mrSG"),s=e("X+KH"),b=e("VRTQ");class p{constructor(l,n,e,t){this.alertCtrl=l,this.router=n,this.userData=e,this.restClient=t}ngAfterViewInit(){this.getProfile()}changeName(){return c.a(this,void 0,void 0,(function*(){const l=yield this.alertCtrl.create({header:"Change Username",buttons:["Cancel",{text:"Ok",handler:l=>{this.profileData.firstName=l.firstName,this.profileData.lastName=l.lastName,this.updateProfile()}}],inputs:[{type:"text",name:"firstName",value:this.profileData.firstName,placeholder:"First Name"},{type:"text",name:"lastName",value:this.profileData.lastName,placeholder:"Last Name"}]});yield l.present()}))}changeClub(){return c.a(this,void 0,void 0,(function*(){const l=yield this.alertCtrl.create({header:"Change Club Name",buttons:["Cancel",{text:"Ok",handler:l=>{this.profileData.clubName=l.clubName,this.updateProfile()}}],inputs:[{type:"text",name:"clubName",value:this.profileData.clubName,placeholder:"Club Name"}]});yield l.present()}))}changeCard(){return c.a(this,void 0,void 0,(function*(){const l=yield this.alertCtrl.create({header:"Change Card Number",buttons:["Cancel",{text:"Ok",handler:l=>{this.profileData.card=l.card,this.updateProfile()}}],inputs:[{type:"text",name:"card",value:this.profileData.card,placeholder:"Card Number"}]});yield l.present()}))}changeHandicap(){return c.a(this,void 0,void 0,(function*(){const l=yield this.alertCtrl.create({header:"Change Handicap",buttons:["Cancel",{text:"Ok",handler:l=>{this.profileData.handicap=parseInt(l.handicap,10),this.updateProfile()}}],inputs:[{type:"number",name:"handicap",value:this.profileData.handicap,placeholder:"0"}]});yield l.present()}))}changeGender(){return c.a(this,void 0,void 0,(function*(){const l=yield this.alertCtrl.create({header:"Change Gender",buttons:["Cancel",{text:"Ok",handler:l=>{console.log("the data",l),this.profileData.gender=l,this.updateProfile()}}],inputs:[{name:"male",type:"radio",label:"Male",value:"male",checked:"male"===this.profileData.gender},{name:"female",type:"radio",label:"Female",value:"female",checked:"female"===this.profileData.gender}]});yield l.present()}))}getUsername(){this.userData.getId().then(l=>{this.username=l})}getProfile(){this.userData.getJwtToken().then(l=>{this.restClient.presentLoader(),this.restClient.me(l).subscribe(l=>{console.log("Me returned ",l),this.profileData=l,this.username=l.firstName},l=>{console.error("Me error",l.error.error),401===l.error.error.statusCode&&this.logout()},()=>{console.log("Me success"),this.restClient.dismissLoader()})})}updateProfile(){this.userData.getJwtToken().then(l=>{this.restClient.updateUser(l,this.profileData).subscribe(l=>{console.log("UpdateUser returned ",l)},l=>{console.error("UpdateUser error",l.error.error),401===l.error.error.statusCode&&this.logout()},()=>console.log("UpdateUser success"))})}changePassword(){console.log("Clicked to change password")}logout(){this.userData.logout(),this.router.navigateByUrl("/login")}support(){this.router.navigateByUrl("/support")}}var h=e("iInd"),d=t.nb({encapsulation:0,styles:[["img[_ngcontent-%COMP%]{max-width:140px;border-radius:50%}"]],data:{}});function m(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,62,"div",[["class","ion-padding-top ion-text-center"]],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,0,"img",[["alt","avatar"],["src","https://www.gravatar.com/avatar?d=mm&s=140"]],null,null,null,null,null)),(l()(),t.pb(2,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),t.Hb(3,null,["",""])),(l()(),t.pb(4,0,null,null,47,"ion-list",[["inset",""]],null,null,null,a.eb,a.s)),t.ob(5,49152,null,0,i.P,[t.h,t.k,t.x],{inset:[0,"inset"]},null),(l()(),t.pb(6,0,null,0,7,"ion-item",[],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.changeName()&&t),t}),a.bb,a.o)),t.ob(7,49152,null,0,i.I,[t.h,t.k,t.x],null,null),(l()(),t.pb(8,0,null,0,2,"ion-label",[["color","primary"],["position","fixed"]],null,null,null,a.cb,a.r)),t.ob(9,49152,null,0,i.O,[t.h,t.k,t.x],{color:[0,"color"],position:[1,"position"]},null),(l()(),t.Hb(-1,0,["Name:"])),(l()(),t.Hb(11,0,[" "," "," "])),(l()(),t.pb(12,0,null,0,1,"ion-icon",[["name","create-outline"],["slot","end"]],null,null,null,a.X,a.m)),t.ob(13,49152,null,0,i.D,[t.h,t.k,t.x],{name:[0,"name"]},null),(l()(),t.pb(14,0,null,0,5,"ion-item",[],null,null,null,a.bb,a.o)),t.ob(15,49152,null,0,i.I,[t.h,t.k,t.x],null,null),(l()(),t.pb(16,0,null,0,2,"ion-label",[["color","primary"],["position","fixed"]],null,null,null,a.cb,a.r)),t.ob(17,49152,null,0,i.O,[t.h,t.k,t.x],{color:[0,"color"],position:[1,"position"]},null),(l()(),t.Hb(-1,0,["Email:"])),(l()(),t.Hb(19,0,[" "," "])),(l()(),t.pb(20,0,null,0,7,"ion-item",[],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.changeClub()&&t),t}),a.bb,a.o)),t.ob(21,49152,null,0,i.I,[t.h,t.k,t.x],null,null),(l()(),t.pb(22,0,null,0,2,"ion-label",[["color","primary"],["position","fixed"]],null,null,null,a.cb,a.r)),t.ob(23,49152,null,0,i.O,[t.h,t.k,t.x],{color:[0,"color"],position:[1,"position"]},null),(l()(),t.Hb(-1,0,["Club:"])),(l()(),t.Hb(25,0,[" "," "])),(l()(),t.pb(26,0,null,0,1,"ion-icon",[["name","create-outline"],["slot","end"]],null,null,null,a.X,a.m)),t.ob(27,49152,null,0,i.D,[t.h,t.k,t.x],{name:[0,"name"]},null),(l()(),t.pb(28,0,null,0,7,"ion-item",[],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.changeCard()&&t),t}),a.bb,a.o)),t.ob(29,49152,null,0,i.I,[t.h,t.k,t.x],null,null),(l()(),t.pb(30,0,null,0,2,"ion-label",[["color","primary"],["position","fixed"]],null,null,null,a.cb,a.r)),t.ob(31,49152,null,0,i.O,[t.h,t.k,t.x],{color:[0,"color"],position:[1,"position"]},null),(l()(),t.Hb(-1,0,["Card number:"])),(l()(),t.Hb(33,0,[" "," "])),(l()(),t.pb(34,0,null,0,1,"ion-icon",[["name","create-outline"],["slot","end"]],null,null,null,a.X,a.m)),t.ob(35,49152,null,0,i.D,[t.h,t.k,t.x],{name:[0,"name"]},null),(l()(),t.pb(36,0,null,0,7,"ion-item",[],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.changeHandicap()&&t),t}),a.bb,a.o)),t.ob(37,49152,null,0,i.I,[t.h,t.k,t.x],null,null),(l()(),t.pb(38,0,null,0,2,"ion-label",[["color","primary"],["position","fixed"]],null,null,null,a.cb,a.r)),t.ob(39,49152,null,0,i.O,[t.h,t.k,t.x],{color:[0,"color"],position:[1,"position"]},null),(l()(),t.Hb(-1,0,["Handicap:"])),(l()(),t.Hb(41,0,[" "," "])),(l()(),t.pb(42,0,null,0,1,"ion-icon",[["name","create-outline"],["slot","end"]],null,null,null,a.X,a.m)),t.ob(43,49152,null,0,i.D,[t.h,t.k,t.x],{name:[0,"name"]},null),(l()(),t.pb(44,0,null,0,7,"ion-item",[],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.changeGender()&&t),t}),a.bb,a.o)),t.ob(45,49152,null,0,i.I,[t.h,t.k,t.x],null,null),(l()(),t.pb(46,0,null,0,2,"ion-label",[["color","primary"],["position","fixed"]],null,null,null,a.cb,a.r)),t.ob(47,49152,null,0,i.O,[t.h,t.k,t.x],{color:[0,"color"],position:[1,"position"]},null),(l()(),t.Hb(-1,0,["Gender:"])),(l()(),t.Hb(49,0,[" "," "])),(l()(),t.pb(50,0,null,0,1,"ion-icon",[["name","create-outline"],["slot","end"]],null,null,null,a.X,a.m)),t.ob(51,49152,null,0,i.D,[t.h,t.k,t.x],{name:[0,"name"]},null),(l()(),t.pb(52,0,null,null,10,"ion-list",[["inset",""]],null,null,null,a.eb,a.s)),t.ob(53,49152,null,0,i.P,[t.h,t.k,t.x],{inset:[0,"inset"]},null),(l()(),t.pb(54,0,null,0,2,"ion-item",[],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.changePassword()&&t),t}),a.bb,a.o)),t.ob(55,49152,null,0,i.I,[t.h,t.k,t.x],null,null),(l()(),t.Hb(-1,0,["Change Password"])),(l()(),t.pb(57,0,null,0,2,"ion-item",[],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.support()&&t),t}),a.bb,a.o)),t.ob(58,49152,null,0,i.I,[t.h,t.k,t.x],null,null),(l()(),t.Hb(-1,0,["Support"])),(l()(),t.pb(60,0,null,0,2,"ion-item",[],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.logout()&&t),t}),a.bb,a.o)),t.ob(61,49152,null,0,i.I,[t.h,t.k,t.x],null,null),(l()(),t.Hb(-1,0,["Logout"]))],(function(l,n){l(n,5,0,""),l(n,9,0,"primary","fixed"),l(n,13,0,"create-outline"),l(n,17,0,"primary","fixed"),l(n,23,0,"primary","fixed"),l(n,27,0,"create-outline"),l(n,31,0,"primary","fixed"),l(n,35,0,"create-outline"),l(n,39,0,"primary","fixed"),l(n,43,0,"create-outline"),l(n,47,0,"primary","fixed"),l(n,51,0,"create-outline"),l(n,53,0,"")}),(function(l,n){var e=n.component;l(n,3,0,e.profileData.firstName),l(n,11,0,e.profileData.firstName,e.profileData.lastName),l(n,19,0,e.profileData.email),l(n,25,0,e.profileData.clubName),l(n,33,0,e.profileData.card),l(n,41,0,e.profileData.handicap),l(n,49,0,e.profileData.gender)}))}function f(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,10,"ion-header",[],null,null,null,a.W,a.l)),t.ob(1,49152,null,0,i.C,[t.h,t.k,t.x],null,null),(l()(),t.pb(2,0,null,0,8,"ion-toolbar",[],null,null,null,a.vb,a.K)),t.ob(3,49152,null,0,i.Ab,[t.h,t.k,t.x],null,null),(l()(),t.pb(4,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,a.P,a.e)),t.ob(5,49152,null,0,i.m,[t.h,t.k,t.x],null,null),(l()(),t.pb(6,0,null,0,1,"ion-menu-button",[],null,null,null,a.fb,a.v)),t.ob(7,49152,null,0,i.S,[t.h,t.k,t.x],null,null),(l()(),t.pb(8,0,null,0,2,"ion-title",[],null,null,null,a.tb,a.I)),t.ob(9,49152,null,0,i.yb,[t.h,t.k,t.x],null,null),(l()(),t.Hb(-1,0,["Account"])),(l()(),t.pb(11,0,null,null,3,"ion-content",[],null,null,null,a.U,a.j)),t.ob(12,49152,null,0,i.v,[t.h,t.k,t.x],null,null),(l()(),t.eb(16777216,null,0,1,null,m)),t.ob(14,16384,null,0,r.i,[t.M,t.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,14,0,n.component.username)}),null)}function k(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"page-account",[],null,null,null,f,d)),t.ob(1,4243456,null,0,p,[i.b,h.m,s.a,b.a],null,null)],null,null)}var g=t.lb("page-account",p,k,{},{},[]);class x{}e.d(n,"AccountModuleNgFactory",(function(){return v}));var v=t.mb(o,[],(function(l){return t.yb([t.zb(512,t.j,t.X,[[8,[u.a,g]],[3,t.j],t.v]),t.zb(4608,r.k,r.j,[t.s,[2,r.r]]),t.zb(4608,i.c,i.c,[t.x,t.g]),t.zb(4608,i.Fb,i.Fb,[i.c,t.j,t.p]),t.zb(4608,i.Jb,i.Jb,[i.c,t.j,t.p]),t.zb(1073742336,r.b,r.b,[]),t.zb(1073742336,i.Cb,i.Cb,[]),t.zb(1073742336,h.q,h.q,[[2,h.v],[2,h.m]]),t.zb(1073742336,x,x,[]),t.zb(1073742336,o,o,[]),t.zb(1024,h.k,(function(){return[[{path:"",component:p}]]}),[])])}))}}]);